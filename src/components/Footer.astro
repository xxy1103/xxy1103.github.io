---
import CustomCursor from './CustomCursor.astro';
import { headerGithubRepoUrl, profileConfig, siteTitle } from '../config';
import { getRenderableSocials, resolveSocialUrl } from '../lib/profile/social';

const today = new Date();

const socials = getRenderableSocials(profileConfig.socials);
---

<footer transition:animate="none">
	<p class="copyright">&copy; {today.getFullYear()} {profileConfig.name}. Powered by {siteTitle}.</p>
	<div class="social-links">
		{socials.map((social) => (
			<a
				href={resolveSocialUrl(social.key, social.url)}
				target={social.key === 'email' ? undefined : '_blank'}
				rel={social.key === 'email' ? undefined : 'noreferrer'}
			>
				{social.label}
			</a>
		))}
		{headerGithubRepoUrl && (
			<a href={headerGithubRepoUrl} target="_blank" rel="noreferrer">Repository</a>
		)}
	</div>
</footer>

<style>
	footer {
		padding: 2em 1em 6em 1em;
		background-color: var(--color-bg);
		border-top: 1px solid var(--color-border-subtle);
		color: var(--color-text-secondary);
		text-align: center;
	}

	.copyright {
		margin: 0;
		font-size: 0.95em;
	}

	.social-links {
		display: flex;
		justify-content: center;
		gap: 0.85em;
		flex-wrap: wrap;
		margin-top: 0.85em;
	}

	.social-links a {
		text-decoration: none;
		color: var(--color-text-secondary);
		font-size: 0.92em;
		padding: 0.25em 0.55em;
		border-radius: 999px;
		border: 1px solid var(--color-border);
		transition: color 0.2s ease, border-color 0.2s ease, background-color 0.2s ease;
	}

	.social-links a:hover {
		color: var(--color-text);
		border-color: var(--color-border-strong);
		background-color: var(--color-surface-elevated);
	}
</style>

<CustomCursor />
